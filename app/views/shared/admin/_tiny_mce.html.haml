:javascript
  $(function() {
    try {
      $('.tinymce textarea')
        .before(
          $('<div class="tinymce-buttons action-buttons" />').append(
            $('<a rel="external" href="/file_uploads">Files</a>'),
            $('<a rel="external" href="/image_uploads">Images</a>'))
        )
        .tinymce($.extend({ 
          script_url : "/javascripts/tiny_mce/tiny_mce.js",
          theme : "advanced",
          plugins : "pagebreak,safari,spellchecker,style,table,advimage,advlink,inlinepopups,media,searchreplace,contextmenu,paste,directionality,noneditable,visualchars,nonbreaking,xhtmlxtras,template",
          forced_root_block : "p",
          relative_urls : false,
          extended_valid_elements : "iframe[src|width|height|name|align]",
          theme_advanced_blockformats : "div,p,blockquote,h1,h2,h3,h4,h5",
          theme_advanced_toolbar_location : "top",
          theme_advanced_toolbar_align : "left",
          theme_advanced_buttons1 : "bold,italic,underline,strikethrough,blockquote,|,justifyleft,justifycenter,justifyright,justifyfull,|,replace,|,styleprops,attribs,spellchecker,|,pastetext,|,forecolor,backcolor,sub,sup,|,code,cleanup,formatselect",
          theme_advanced_buttons2 : "tablecontrols,|,bullist,numlist,|,hr,removeformat,visualaid,|,nonbreaking,template,link,unlink,anchor,image,charmap,media,pagebreak",
          theme_advanced_buttons3 : "",
          language: "en"
        }, #{tiny_mce_options.to_json}));
    } catch(e) {}
  });
